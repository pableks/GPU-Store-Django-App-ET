<!DOCTYPE html>
{% load static %}
<html>
    <head>
           <title>e-Commerce | Modern Basics, Radical Transparency</title>

            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1" />
            <link rel="shortcut icon" type="images" href="{% static 'images/icon.ico' %}">
            <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">          
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

            <script type="text/javascript">

            var user = '{{request.user}}'
            
            var myCarousel = document.getElementById('header');
            var carousel = new bootstrap.Carousel(myCarousel);


            function getToken(name) {
                var cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    var cookies = document.cookie.split(';');
                    for (var i = 0; i < cookies.length; i++) {
                        var cookie = cookies[i].trim();
                        // Does this cookie string begin with the name we want?
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
            var csrftoken = getToken('csrftoken')

            function getCookie(name) {
                // Split cookie string and get all individual name=value pairs in an array
                var cookieArr = document.cookie.split(";");

                // Loop through the array elements
                for(var i = 0; i < cookieArr.length; i++) {
                    var cookiePair = cookieArr[i].split("=");

                    /* Removing whitespace at the beginning of the cookie name
                    and compare it with the given string */
                    if(name == cookiePair[0].trim()) {
                        // Decode the cookie value and return
                        return decodeURIComponent(cookiePair[1]);
                    }
                }

                // Return null if not found
                return null;
            }
		    var cart = JSON.parse(getCookie('cart'))

            if (cart == undefined){
                cart = {}
                console.log('Cart Created!', cart)
                document.cookie ='cart=' + JSON.stringify(cart) + ";domain=;path=/"
            }
            console.log('Cart:', cart)

            </script>
     </head>
     <body style="font-family: 'Ubuntu', sans-serif;">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="border-bottom: 6px solid black;">
            <div class="container-fluid d-flex align-items-center">
              <a class="navbar-brand d-flex align-items-center" href="{% url 'store' %}" style="margin-top: 0;">
                <img src="{% static 'images/gpu_logo.png' %}" width="40" height="40" class="d-inline-block align-top" alt="Logo">
                <div class="ms-2">
                  <span class="ms-2 mt-3">GPU STORE</span>
                </div>
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="{% url 'store' %}">Store</a>
                  </li>
                </ul>
                <div class="d-flex">
                  <button id="loginButton" class="btn btn-primary ms-2"  data-bs-toggle="modal" data-bs-target="#exampleModal">
                      <i class="fas fa-user"></i>
                    </button>
                                    </div>
                <div class="d-flex align-items-center">
                  <a href="{% url 'cart' %}">
                    <img id="cart-icon" src="{% static 'images/cart.png' %}" style="margin-top: 0;">
                  </a>
                  <p id="cart-total">{{ cartItems }}</p>
                </div>
              </div>
            </div>
          </nav>
          
          
          
          
          <header id="header" class="vh-100 carousel slide" data-bs-ride="carousel" style="padding-top: 180px;">
            <div class="container h-100 d-flex align-items-center carousel-inner">
              <div class="text-center carousel-item active">
                <h2 class="text-uppercase text-white">mejores gpus</h2>
                <h1 class="text-uppercase py-2 fw-bold text-white">Recien llegadas</h1>
                <a href="{% url 'store' %}" class="btn mt-3 text-uppercase text-white">Compra ahora</a>
              </div>
              <div class="text-center carousel-item">
                <h2 class="text-uppercase text-white">Conoce la RTX4090</h2>
                <h1 class="text-uppercase py-2 fw-bold text-white">Maximo poder</h1>
                <a href="{% url 'store' %}" class="btn mt-3 text-uppercase text-white">Comprar</a>
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#header" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#header" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
          </header>
          
      
   
    
      
    <!-- Footer -->
    <footer
    class="text-center text-lg-start text-white"
    style="background-color: #1c2331"
    >
<!-- Section: Social media -->
<section
       class="d-flex justify-content-between p-4"
       style="background-color: #6351ce"
       >
<!-- Left -->
<div class="me-5">
  <span>Síguenos en Nuestras Redes Sociales:</span>
</div>

<div>
  <a href="" class="text-white me-4"><i class="fab fa-facebook-f"></i></a>
  <a href="" class="text-white me-4"><i class="fab fa-twitter"></i></a>
  <a href="" class="text-white me-4"><i class="fab fa-google"></i></a>
  <a href="" class="text-white me-4"><i class="fab fa-instagram"></i></a>
  <a href="" class="text-white me-4"><i class="fab fa-linkedin"></i></a>
  <a href="" class="text-white me-4"><i class="fab fa-github"></i></a>
</div>
<!-- Left -->

<!-- Copyright -->
<div
   class="text-center p-3"
   style="background-color: rgba(0, 0, 0, 0.2)"
   >
© 2023
<a class="text-white" 
   >By Antony and Pableks</a
  >
</div>
<!-- Copyright -->
</footer>
<!-- Footer -->

</div>
<!-- End of .container -->

      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<script src="{% static 'js/cart.js' %}"></script>
<script>
  var myCarousel = document.getElementById('header');
  var carousel = new bootstrap.Carousel(myCarousel);
</script>
      <script type="text/javascript" src="{% static 'js/cart.js' %}"></script>
     </body>
</html>